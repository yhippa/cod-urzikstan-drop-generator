<!DOCTYPE html>
<html lang="en" data-theme"dark">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0LGXGEP1C7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-0LGXGEP1C7');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link rel="stylesheet" href="/style.css">
    <title>Warzone 2 Urzikstan Grid Drop Generator</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9594398022297274"
     crossorigin="anonymous"></script>
</head>
<body>
    <nav class="container-fluid">
        <ul>
            <li><strong>Warzone 2 Urzikstan Drop Generator</strong></li>
        </ul>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/stats.html">Drop Stats</a></li>
        </ul>
    </nav>
    <main class="container">
        <div class="grid">
            <section>
                <div class="instructions-container">
                    <p id="instructions">Listen up, you clueless bag of bones! I'm going to give you instructions, so head to the far end of nowhere, take a left at Dumbass Junction, and march straight into Idiotville. Now click the button!</p>
                    <img src="/images/captain.png" alt="Warzone Image">
                </div>
                <!-- Display area for the grid coordinate -->
                <button type="button" id="generateButton" onclick="generateGridDrop()">Generate Grid Drop</button>
                <div id="gridLocation" class="grid-container" style="margin-top: 20px;">
                    <!-- Grid with headers will be dynamically generated here -->
                </div>
                <div id="matchResults" style="margin-top: 20px;">
                    <!-- Dropdowns will be dynamically added here -->
                </div>
            </section>
        </div>
    </main>
    <footer class="container">
        <small>
        </small>
    </footer>
    <script>
const drillSergeantQuips = [
    "You lot look like a circus act on a field trip, but the battlefield needs some comic relief!",
    "I've seen scarecrows with more combat readiness, but hey, the crows need a laugh too!",
    "You guys might look like a parade of clowns, but even clowns can pack a punch with the right attitude!",
    "The enemy won’t know whether to fight you or ask for your autograph at the circus!",
    "Sure, you look like a ragtag bunch of misfits, but who ever said heroes had to be photogenic?",
    "You guys look like you should be selling popcorn, but let’s show the enemy we mean business!",
    "I’ve seen more intimidating kitchen appliances, but let’s surprise them with our enthusiasm!",
    "You look like a bunch of mismatched socks, but hey, no one ever won a war on style alone!",
    "They may laugh when they see you, but they won’t be laughing when we take them down!",
    "You guys look like a joke, but let’s make sure the punchline is on the enemy!",
    "If looking ridiculous were a weapon, you’d be armed to the teeth!",
    "You might look like a disaster waiting to happen, but even disasters can be heroic!",
    "With a lineup like this, the enemy will never see us coming – they’ll be too busy laughing!",
    "You look like you should be auditioning for a comedy show, but let’s turn that laughter into victory!",
    "Sure, you look like a group of escapees from a costume party, but let’s show them what party crashers can do!",
    "You might look like you belong in a cartoon, but let’s give the enemy a real-life nightmare!",
    "The way you look, the enemy might think it’s their birthday – but we’re about to deliver some unwanted surprises!",
    "You guys look like a joke, but we’ll make sure the punchline is a victory!",
    "You look like a bunch of walking target practice, but let’s show them what we’re really aiming for!",
    "Sure, you look like the before picture in a military ad, but wait till they see the after!",
    "If courage came in looks, we’d be in trouble – but lucky for us, it comes from the heart!",
    "You might look like a comedy troupe, but let’s write a heroic script they’ll never forget!",
    "You look like you’re ready for a sitcom, but let’s make this episode about unexpected heroes!",
    "The enemy will laugh when they see you, but they won’t be laughing when they’re on the run!",
    "You look like a bunch of misfit toys, but we’re about to show them we play for keeps!"
];
        const buttonQuips = 
            ["Give me a random drop"
            ];

        const letters = "ABCDEFGHIJ";
        const excludedCells = ["A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","B0","B9","C0","C9","D0","D9","E0","E9","F0","F9","G0","G9","H0","H9","I0","I9","J0","J1","J2","J3","J4","J5","J6","J7","J8","J9"];
        const gridContainer = document.getElementById("gridLocation");
        const matchResults = document.getElementById("matchResults");

        let currentTimestamp = null;
        let currentIdentifier = null;
        let currentDrop = null;

        function generateQuip() {
            document.getElementById("generateButton").textContent = buttonQuips[Math.floor(Math.random() * buttonQuips.length)];
        }

        function addDrillSargeant() {
            document.getElementById("instructions").textContent = drillSergeantQuips[Math.floor(Math.random() * drillSergeantQuips.length)];
        }

        function createGrid() {
            for (let i = 0; i <= 10; i++) {
                const header = document.createElement("div");
                header.classList.add("grid-header");
                header.textContent = i === 0 ? "" : letters[i - 1];
                gridContainer.appendChild(header);
            }
            for (let i = 0; i < 10; i++) {
                const rowHeader = document.createElement("div");
                rowHeader.classList.add("grid-header");
                rowHeader.textContent = i;
                gridContainer.appendChild(rowHeader);
                for (let j = 0; j < 10; j++) {
                    const cell = document.createElement("div");
                    cell.classList.add("grid-item");
                    cell.id = letters[j] + i;
                    gridContainer.appendChild(cell);
                }
            }
        }

        function generateGridDrop() {
            let isValid = false;
            let letter;
            let number;
            while (!isValid) {
                letter = letters.charAt(Math.floor(Math.random() * letters.length));
                number = Math.floor(Math.random() * 10);
                isValid = !excludedCells.includes(letter + number);
            }
            document.querySelectorAll('.grid-item').forEach(item => {
                if (!item.classList.contains("grid-header")) {
                    item.classList.remove('highlight');
                    item.textContent = "";
                }
            });
            const selectedCell = document.getElementById(letter + number);
            selectedCell.classList.add("highlight");
            selectedCell.textContent = letter + number;
            generateQuip();
            addDropdown(letter + number);
            generateTimestampAndIdentifier();
            currentDrop = letter + number;
        }

        function generateTimestampAndIdentifier() {
            currentTimestamp = new Date().toISOString();
            currentIdentifier = Math.random().toString(36).substring(2, 15);
        }

        function addDropdown(droplocation) {
            const dropdownContainer = document.createElement("div");
            dropdownContainer.classList.add("dropdown-container");
            const label = document.createElement("label");
            label.textContent = "Match Result: " + droplocation;
            const select = document.createElement("select");
            const options = ["","First", "Podium", "Top 10", "Terrible", "DNF"];
            options.forEach(optionText => {
                const option = document.createElement("option");
                option.value = optionText;
                option.textContent = optionText;
                select.appendChild(option);
            });
            select.addEventListener('change', function() {
                if (select.value) {
                    postResult(select.value);
                }
            });
            const removeButton = document.createElement("button");
            removeButton.textContent = "X";
            removeButton.onclick = function() {
                dropdownContainer.remove();
            };
            dropdownContainer.appendChild(label);
            dropdownContainer.appendChild(select);
            dropdownContainer.appendChild(removeButton);
            matchResults.appendChild(dropdownContainer);
        }

        function postResult(result) {
            const url = "https://1uqyg72qkf.execute-api.us-east-1.amazonaws.com/default/wz_save_results";
            const data = {
                TableName: "wz_results",
                Item: {
                    timestamp: currentTimestamp,
                    identifier: currentIdentifier,
                    droplocation: currentDrop,
                    result: result
                }
            };

            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Origin': 'https://droprandom.app/'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => console.log('Success:', data))
            .catch((error) => console.error('Error:', error));
        }

        addDrillSargeant();
        generateQuip();
        createGrid();
    </script>
</body>
</html>
